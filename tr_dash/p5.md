# TR Dash 대시보드 UX/제품 개선 Deep Insight Report (v1)

## 검토 범위와 근거

* **대시보드(운영 배포)**: `HVDC TR Transport` 단일 대시보드 화면(AGI Site), 상단 글로벌 컨트롤(항차/TR/UTC 날짜/보기 모드/리스크 필터) + Shift Brief + KPI + Alerts Triage + Map/Detail + Schedule Table + Gantt + History/Evidence/Compare/Closeout 영역을 확인했습니다. ([trdash.vercel.app][1])
* **레포(기능/아키텍처)**: README에 명시된 **스케줄 재계산 엔진(reflowSchedule)**, **Preview 패널(충돌/영향 보고)**, **Gantt(vis-timeline 옵션/드래그 이동)**, **History/Evidence(localStorage)**, **Trip Report Export(MD/JSON)**, **Readiness** 및 폴더 구조(SSOT, baseline-compare, state-machine 등)를 기반으로 “현재 설계 의도”도 함께 반영했습니다. ([GitHub][2])
* 참고: 제공하신 Vercel preview URL은 제 환경에서 연결이 성립하지 않아(응답 불가), **운영 도메인** 기준으로 UI를 분석했습니다.

---

## 1) Problem Statement + Objectives + Risks + Assumptions

### Problem

현재 화면은 **기능적으로는 매우 강력(리플로우/프리뷰/비교/증빙/리포트)** 하지만, “현장 운영” 관점에서 **의사결정(Go/No-Go, 48h 핵심 작업, 다음 결정 창) → 실행(일정 이동/충돌 해결) → 증빙/인수인계(History/Evidence/Closeout)** 흐름이 **한 화면에 병렬로 과밀**하여, 사용자가 **무엇을 먼저 봐야 하는지**를 매번 재구성해야 합니다. ([trdash.vercel.app][1])

### Objectives (추천 KPI 중심)

* **Time-to-Decision(분)**: Shift Brief 진입 후 Go/No-Go 결정을 “근거 포함” 확정까지 걸리는 시간
* **Task Success Rate(%)**: “특정 항차/TR의 다음 48시간 핵심 작업 + 리스크 + 조치”를 정확히 파악하는 비율
* **Error Rate(%)**: 일정 변경(단일/벌크)에서 잘못된 날짜/항차에 적용하는 비율
* **Recovery Success(%)**: 충돌 발생 시(락/제약/사이클) 되돌리기/대안 적용으로 정상 복구하는 비율

### Key Risks (운영 리스크 관점)

* **시간대(UTC vs Local) 혼선 리스크**: 상단은 “날짜(UTC)”인데, Shift Brief는 “다음 결정 창: 18:00 현지”로 혼용됩니다. ([trdash.vercel.app][1])
* **데이터 신뢰(신선도/출처) 리스크**: 예) 기상/해상 리스크는 “최종 갱신 01 Feb 2026 · 주간”이지만, 이 정보가 Go/No-Go에 어떻게 반영되는지(임계값/모델/근거)가 UI 상에서 즉시 드러나지 않습니다. ([trdash.vercel.app][1])
* **변경의 비가역성/감사 추적 리스크**: History/Evidence가 localStorage 기반이면(현재 설계), **다인 운영/디바이스 교체/감사**에 취약합니다. ([GitHub][2])
* **Gantt 드래그 중심 상호작용 리스크**: 드래그로 일정 이동이 가능한 구조는 강력하지만, 대체 조작(키보드/버튼 기반)과 포커스 가시성이 보완되지 않으면 접근성(WCAG 2.2)에서 취약점이 됩니다. ([GitHub][2])

### Assumptions (명시)

* 현장 사용자는 주로 **Shift Supervisor / Planner / QHSE·Permit 담당 / PM**이고, 장비는 데스크톱/노트북 + 현장 태블릿 혼재를 가정.
* SSOT(option_c.json) 기반 계획이 “기준 일정”이고, 운영 중 변경은 patch/compare로 관리하는 흐름을 가정. ([GitHub][2])

---

## 2) Personas(2–3) + Validation Qs

### P1. Shift Supervisor (교대 책임자)

* 목표: “오늘/다음 48h 의사결정 + 즉시 조치”만 빠르게 정리
* 질문:

  1. 대시보드 진입 2분 내 **GO/NO-GO + 근거(최신 데이터/임계값)**를 말할 수 있는가? ([trdash.vercel.app][1])
  2. “48시간 내 중요 작업 8건”이 **어떤 항차/작업/오너**인지 바로 액션으로 분해되는가? ([trdash.vercel.app][1])

### P2. Planner/Scheduler (일정 담당)

* 목표: 특정 활동의 날짜 변경 → 영향/충돌 확인 → 안전 적용/롤백 → 리포트 출력
* 질문:

  1. 변경 적용 전 “영향 범위(몇 개 활동, 어떤 제약 위반)”가 **한 화면에서 요약**되는가? ([GitHub][2])
  2. Compare(Diff)가 “무엇이 기준(baseline)이고 무엇이 비교(as-of)”인지 오해 없이 이해되는가? ([GitHub][2])

### P3. QHSE/Permit 담당

* 목표: PTW/CERT/Permit 등 **증빙 준비 상태(Readiness)** 확인 + 누락/블로커 추적
* 질문:

  1. Readiness(Ready/Not Ready) 판단 근거가 **체크리스트로 설명 가능**한가? ([GitHub][2])

---

## 3) Journey Map + Emotional Beats

### “교대 브리핑 → 실행 → 인수인계” 핵심 여정

1. **진입(불안/시간 압박)**: 상단에서 날짜/항차/TR/뷰 모드 조정 ([trdash.vercel.app][1])
2. **판단(확신/불확실)**: Shift Brief + Alerts Triage에서 GO/No-Go 및 즉시 조치 확인 ([trdash.vercel.app][1])
3. **조치(집중/실수 위험)**: 일정 이동(단일/벌크), 충돌 해결, 적용(Apply) ([trdash.vercel.app][1])
4. **추적(신뢰/증빙 부담)**: History/Evidence/Closeout 기록, Trip Report Export ([trdash.vercel.app][1])

**핵심 정서 포인트**

* (좋음) “즉시 조치” 섹션은 방향성을 줌 ([trdash.vercel.app][1])
* (불안) 데이터 최신성/근거가 한눈에 묶이지 않으면 “GO”를 확신하기 어려움 ([trdash.vercel.app][1])
* (실수) 드래그/적용이 빠른 만큼, “어느 컨텍스트(UTC/Local, 어떤 항차)”에서 변경했는지 실수 가능성 ↑ ([trdash.vercel.app][1])

---

## 4) Flows + Recovery Paths + Metrics

### Flow A: Shift Brief 소비(읽기/판단)

* 현재: Daily Pulse(지연 0, 48h 중요작업 8, 포커스/결정창) 제공 ([trdash.vercel.app][1])
* 개선 핵심: “**What changed since last shift?**(변경점 요약)”을 최상단에 추가

  * 예: 리스크 상태 변화(WX), 일정 변경(영향 12개 활동), 새 충돌(락 위반 1) 등

**Metrics**

* Time-to-Decision, Scroll depth(불필요 스크롤 감소), Shift Brief export 사용률

### Flow B: 일정 변경(단일)

* 현재 설계: Gantt hover → 날짜 변경 → Dialog → reflowSchedule → Preview 패널(변경/충돌) → Apply 시 setActivities 반영 ([GitHub][2])
* Recovery: Undo/Redo/Reset 커맨드 존재 ([trdash.vercel.app][1])

**개선 핵심**

* Apply 전 **“실행 요약 + 승인”** 단계를 UI로 고정(아래 6번 참고)

### Flow C: 비교/증빙(Compare/History/Evidence/Closeout)

* 현재: Gantt 하단에 History/Evidence/Compare Diff/Trip Closeout 탭이 있으나, “Load SSOT…”가 노출되는 것으로 보아 조건부 로딩/빈 상태가 존재 ([trdash.vercel.app][1])
* 개선 핵심: 탭 비활성/가드 조건을 명확히(“왜 안 보이는지/무엇을 해야 하는지”)

---

## 5) IA + Label strategy

### 핵심 진단: “기능 IA”는 좋지만 “운영 IA(우선순위)”가 약함

현재 섹션은 Location/Schedule/Verification + 개별 위젯(Overview/KPI/Alerts/Voyages/Schedule/Gantt)로 구성되어 있습니다. ([trdash.vercel.app][1])
→ 운영자는 매번 “어디서 무엇을 봐야 하는지”를 재조합해야 합니다.

### 제안 IA: 3-Lane 운영 구조로 재정렬

1. **DECIDE(의사결정)**: Shift Brief + Go/No-Go + “변경점(Delta) 요약” + 48h Action list
2. **EXECUTE(실행/조정)**: Schedule edit(단일/벌크) + Preview/Conflicts + Apply/Undo
3. **AUDIT(감사/증빙)**: History/Evidence/Readiness/Closeout + Report Export

> 장점: 같은 컴포넌트라도 “언제/누가/왜” 쓰는지가 분리되어 인지부하가 줄고, 인수인계 시 **Audit lane**만 보면 됨.

### 라벨/용어 개선(즉시 효과 큼)

* 현재 혼합 언어(예: “Stage progress summary…”가 영어로 남아있음) → **KR/EN 토글** 또는 “한 언어로 통일” 권장 ([trdash.vercel.app][1])
* “Run”은 의미가 넓음 → **“Commands” / “Ops Console” / “Schedule Commands”**처럼 결과가 예측 가능한 이름 권장 ([trdash.vercel.app][1])

---

## 6) UI Direction + Component Specs + Accessibility Notes

### A. Decision Card(Go/No-Go) 고도화 (P0~P1)

현재 Alerts Triage에 “결정: GO”와 트리거(WX_WAVE, WX_WIND)가 표시됩니다. ([trdash.vercel.app][1])
**하지만 “왜 GO인지(임계값 대비 현재값/예측 구간/데이터 신선도)”가 한 번에 닿지 않습니다.**

**개선 스펙(추천)**

* **결정 상태**: GO / CONDITIONAL GO / NO-GO (3단계 추천)
* **근거 블록**:

  * 데이터 최신성(Last updated + Update cadence) ([trdash.vercel.app][1])
  * 핵심 지표(예: Wave Hs, Wind kt, Tide window)
  * 기준값/제약(Threshold, Permit gating)
* **액션**: “조건부 GO 시 해야 할 조치(예: 18:00 재평가, 대체 작업 전환)”

### B. “UTC vs Local” 시간 UX는 최우선 P0

* 상단: 날짜(UTC) ([trdash.vercel.app][1])
* Shift Brief: 다음 결정 창(현지) ([trdash.vercel.app][1])
* README: 날짜 정렬을 UTC(YYYY-MM-DD) 기준으로 강하게 보정하는 설계( dateToIsoUtc/toUtcNoon ) ([GitHub][2])

**개선 제안(디자인 규칙으로 고정)**

* 모든 시간 표기 컴포넌트에 **Timezone 배지(UTC / Local GMT+4)**를 의무화
* Decision Window는 “Local time + (UTC)” 동시 표기
* “Selected Date”는 “운영일(현지)” vs “Gantt day index(UTC)”를 분리 표기(혼선을 원천 차단)

### C. Schedule 변경 “실행 전 요약→승인→결과→롤백” 계약 고정 (P0~P1)

이미 커맨드 팔레트에 `/bulk`, `/conflicts`, `/export`, `/undo`, `/redo`가 존재합니다. ([trdash.vercel.app][1])
또한 Preview 패널이 “변경 전/후 + 충돌 경고”를 제공하도록 설계되어 있습니다. ([GitHub][2])

**하지만 UI 상에서 “Apply”는 여전히 실수 여지가 큰 액션**입니다.
→ 여기서 “에이전트/툴 실행” UX 원칙(사람 승인)을 그대로 적용하는 게 효과적입니다. Vercel AI SDK 6도 **도구 실행 승인(need approval)**을 안전 레이어로 강조합니다. ([Vercel][3])

**개선 스펙**

* Apply 버튼을 “**Apply (N activities impacted)**”로 변경
* 클릭 시 “실행 요약 모달”:

  * 변경 활동 수/항차 범위
  * 락/제약 위반 여부
  * 롤백(Undo) 가능 여부/범위
* “승인 모드(Approval)”에서는 반드시 2-step confirm + 승인자/사유 기록

### D. Gantt/드래그 상호작용의 접근성 보강 (P1)

README 상 “활동 바 드래그로 일정 이동 가능”이 명시되어 있습니다. ([GitHub][2])
WCAG 2.2는 **2.5.7 Dragging Movements(AA)**, **2.5.8 Target Size(AA)** 등 새 기준을 포함합니다. ([W3C][4])

**개선 스펙**

* 드래그 외 대체:

  * “+1일 / -1일” 버튼, “날짜 입력” 이동, 키보드 단축키(nudge)
* 포커스:

  * Gantt/툴팁/다이얼로그 포커스 트랩 + “Focus Not Obscured” 고려(헤더에 포커스가 가려지지 않게) ([W3C][4])
* 작은 칩/토글(예: 하이라이트/범례)이 충분한 클릭 영역인지 점검(2.5.8) ([W3C][4])

---

## 7) Prototype Pipeline + Simulation Report

### 빠른 프로토타입(권장 순서)

1. **Decision Lane 리레이아웃(읽기 전용)**: Shift Brief + Go/No-Go + Delta Summary
2. **Apply 승인 모달**: Preview → Apply 전 요약/승인/사유 입력
3. **Drag 대체 조작**: “Move activity” 패널(키보드 가능)

### Simulation log (재현 가능한 형태)

* Scenario: “단일 활동 날짜 변경 후 충돌 없이 적용”
* Steps

  1. Gantt에서 활동 선택 → 날짜 변경 Dialog ([GitHub][2])
  2. reflowSchedule 실행 → Preview에서 영향/충돌 확인 ([GitHub][2])
  3. Apply 승인 모달 → Confirm
  4. Undo로 원복(회복 가능성 확인) ([trdash.vercel.app][1])
* Output(기록해야 할 것)

  * impact_report 요약(몇 개 변경) ([GitHub][2])
  * 적용 시점 timestamp + 사용자 + 사유(추가 구현)

---

## 8) Validation Plan + Decision Gates

### 검증 플랜(최소)

* 사용자 테스트(30분 × 5명): Shift Supervisor 2 / Planner 2 / QHSE 1
* 과제

  1. “오늘(선택일) 기준 GO/No-Go 판단 + 근거 3개 말하기” ([trdash.vercel.app][1])
  2. “48h 중요 작업 중 가장 위험한 2개 찾고 조치 작성” ([trdash.vercel.app][1])
  3. “활동 날짜를 2일 이동 후 충돌 해결/적용/Undo” ([GitHub][2])

### Gate (Go/Revise/Stop)

* **Go**: Time-to-Decision 30%↓, Error Rate < 3%, A11y Blocker 0
* **Revise**: 승인/롤백 플로우에서 혼선 지속
* **Stop**: UTC/Local 혼선이 실제 운영 오류를 지속 유발(고위험)

---

## 9) Differentiation + Risks + Mitigation

### 차별점(이미 강한 부분)

* reflowSchedule(의존성/락/제약/사이클) + Preview/impact_report 구조는 “운영 스케줄러”로서 핵심 경쟁력입니다. ([GitHub][2])
* baseline compare, freeze-policy, state-machine, readiness 등 “감사/통제” 방향성도 이미 코드 구조에 존재합니다. ([GitHub][2])

### 주요 리스크와 대응

* **localStorage 기반 증빙 한계** → “Export/Import + 서버 저장(선택)”로 단계적 전환 ([GitHub][2])
* **성능(대형 번들/순차 로딩)** → Vercel이 강조하는 우선순위(워터폴 제거, 번들 축소)를 기준으로 개선 백로그 정렬 ([Vercel][5])

---

## 10) Handoff + Traceability Bundle (실행 백로그)

## P0 (즉시, 1–3일)

1. **UTC/Local 표기 규칙 통일 + 이중 표기**

   * “Selected Date(UTC day index)” vs “Operational Day(Local)” 분리 ([trdash.vercel.app][1])
2. **History/Evidence/Compare 빈 상태 가드 UX**

   * “Load SSOT…”를 CTA(버튼) + 조건 설명으로 전환 ([trdash.vercel.app][1])
3. **Apply 전 요약/승인 모달**

   * impact_report 기반으로 “영향 N개 / 충돌 0/1 / 롤백 가능” 표준화 ([GitHub][2])
4. **언어 혼용 정리(최소: 핵심 라벨)**

   * Shift Brief/Stage summary 등 KR/EN 정책 결정 ([trdash.vercel.app][1])

## P1 (단기, 1–2주)

5. **Delta Summary(교대 변경점) 위젯**

   * “지난 교대 대비 일정 변경/리스크 변경/새 충돌/새 증빙”
6. **Go/No-Go 근거 카드화(임계값/신선도/데이터 출처)**

   * “결정: GO”를 “왜 GO인지”로 전환 ([trdash.vercel.app][1])
7. **Gantt Drag 대체 조작(키보드/버튼)**

   * WCAG 2.2 2.5.7 대응 ([W3C][4])
8. **리스크 필터 고도화(Severity/Owner/Due)**

   * 현재 “없음/전체”를 단계화 ([trdash.vercel.app][1])

## P2 (중기, 3–6주)

9. **증빙/감사(다인 운영) 체계화**

   * localStorage → 서버 저장 옵션 + 감사 로그(누가/언제/왜) ([GitHub][2])
10. **성능 최적화 체계(워터폴/번들/리렌더)**

* 우선순위를 “워터폴 제거 → 번들 축소”로 고정 ([Vercel][5])

---

## 결론(요약)

* 현재 시스템은 **스케줄 변경 엔진 + 프리뷰 + 비교/증빙**까지 이미 “프로덕션급 구조”를 갖고 있습니다. ([GitHub][2])
* 다음 단계의 핵심은 **기능 추가가 아니라, 운영 우선순위(DECIDE→EXECUTE→AUDIT)로 화면을 재배치하고**,

  1. **UTC/Local 혼선 제거**,
  2. **Apply 승인/요약/롤백을 UX 계약으로 고정**,
  3. **근거/신선도를 Go/No-Go에 직결**시키는 것입니다. ([trdash.vercel.app][1])

원하시면 위 P0 항목을 기준으로 **“개선안 와이어(섹션 재배치) + 컴포넌트 스펙(Props/상태/이벤트) + 측정 이벤트 스키마”**까지 바로 작성해 드리겠습니다.

[1]: https://trdash.vercel.app/ "HVDC TR Transport Dashboard - AGI Site"
[2]: https://github.com/macho715/tr_dash.git "GitHub - macho715/tr_dash"
[3]: https://vercel.com/blog/ai-sdk-6 "AI SDK 6 - Vercel"
[4]: https://www.w3.org/TR/WCAG22/ "Web Content Accessibility Guidelines (WCAG) 2.2"
[5]: https://vercel.com/blog/introducing-react-best-practices "Introducing: React Best Practices - Vercel"
