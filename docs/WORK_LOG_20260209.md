---
doc_id: work-log-20260209
refs: [AGENTS.md, docs/plan/gantt-reset-button-fix-plan.md, docs/GANTT_RESET_AND_DEBUG.md]
updated: 2026-02-09
version: 1.0
status: completed
---

# Gantt 리셋 버튼 수정 — 작업 로그 (2026-02-09)

**작업 일자**: 2026-02-09  
**작업자**: AI Agent  
**상태**: ✅ 구현 완료

---

## 1. 요약

- **이슈:** "Reset Gantt View" 버튼 클릭 시 토스트는 뜨지만 줌/뷰가 Day 뷰 + 선택일 기준 14일로 복원되지 않음.
- **원인:** 리셋 직후 `fit()` 호출이 VisTimelineGantt의 useEffect로 설정된 "Day + 14일" 창을 덮어써 전체 프로젝트로 줌 아웃됨.
- **조치:** `handleResetGantt` 내부에서 `fit()` 호출 제거. view/selectedDate 변경만으로 자식 useEffect가 초기 창을 설정하도록 유지.

---

## 2. 변경 파일

| 파일 | 변경 내용 |
|------|-----------|
| `components/dashboard/gantt-chart.tsx` | `handleResetGantt()` 12단계: `setTimeout` + `visTimelineRef.current?.fit()` 제거. 토스트만 동기 호출. |

---

## 3. 구현 상세

### 3.1 수정 전

- 100ms 후 `visTimelineRef.current?.fit()` 호출 후 토스트 표시.
- `fit()`이 전체 아이템이 보이도록 창을 조정해, 방금 적용된 Day 뷰 14일이 무효화됨.

### 3.2 수정 후

- **12단계:** VisTimelineGantt의 `useEffect([view, selectedDate])`가 Day 뷰 + initialDate 중심 14일로 `setWindow` 호출하므로, **fit() 호출 제거**.
- 토스트 `"Gantt view reset to initial state"`는 동기적으로 표시 (duration 2000ms 유지).

```ts
// 12. Window is set by VisTimelineGantt useEffect(view, selectedDate) to Day view + 14d; do not call fit() or it would zoom out to full project and undo the reset.
toast.success("Gantt view reset to initial state", {
  duration: 2000,
})
```

---

## 4. 검증

- [ ] vis-timeline 뷰에서 리셋 버튼 클릭 → Day 뷰 + 선택일 기준 14일 창 복원 확인.
- [ ] Ctrl/⌘+Shift+R 단축키 리셋 동작 확인.
- [ ] 토스트 "Gantt view reset to initial state" 표시 확인.

*(브라우저 수동 검증 권장)*

---

## 5. Refs

- `docs/plan/gantt-reset-button-fix-plan.md` — 수정 계획
- `components/dashboard/gantt-chart.tsx` — handleResetGantt, zoomCallbacks.onReset
- `components/gantt/VisTimelineGantt.tsx` — useEffect([view, selectedDate]) setWindow
